# README #

Приложение, реализующее функционал формирования чека в магазине. Приложение выполнено по тестовому заданию 
компании "Clevertec". 

### Задача ###

* [Условия](task/java tasks.pdf)

### Запуск приложения ###

Приложение может запускаться как консольное приложение или как web-приложение.

**Запуск консольного приложения.**

Приложение запускается java Main <набор_параметров>, где набор параметров в формате itemId-quantity (itemId - 
идентификатор товара, quantity - его количество.
Например: java Main 3-1 2-5 5-1 card-30 должен сформировать и вывести в консоль чек содержащий в себе наименование 
товара с id=3 в количестве 1шт, то же самое с id=2 в количестве 5 штук, id=5 - одна штука и т. д. Card-30 означает, 
что была предъявлена скидочная карта с номером 30.

**Запуск web-приложения.**

Web-приложение запускается через сервер TomCat.
Для работы с приложением реализованы следующие запросы:
* Получить список продуктов  
  http://localhost:(port?)/api/products?size=(?)&page=(?) -   
  Где size - размер списка, page - номер страницы.
* Получить продукт по id  
  http://localhost:(port?)/api/product?id=(?) - 
  Где id - идентификатор товара.
* Добавить продукт   
  http://localhost:(port?)/api/product/add?name=(?)&price=(?) -   
  Где name - имя продукта, price - цена за единицу продукта.
* Обновить продукт  
  http://localhost:(port?)/api/product/update?id=(?)&name=(?)&price=(?) -   
  Где id - идентификатор товара, name - новое имя продукта, price - новая цена за единицу продукта.
* Удалить продукт  
  http://localhost:(port?)/api/product/remove?id=(?) -   
  Где id - идентификатор товара.
* Получить список дисконтных карт  
  http://localhost:(port?)/api/cards?size=(?)&page=(?) - 
  Где size - размер списка, page - номер страницы.
* Получить карту по id  
  http://localhost:(port?)/api/card?id=(?) - 
  Где id - идентификатор карты.
* Добавить карту   
  http://localhost:(port?)/api/card/add?discount=(?)
  Где discount - скидка в %.
* Обновить карту  
  http://localhost:(port?)/api/card/update?id=(?)&discount=(?) -   
  Где id - идентификатор карты, discount - новая скидка в %.
* Удалить карту  
  http://localhost:(port?)/api/card/remove?id=(?) -
  Где id - идентификатор карты.
* Получить PDF-чек  
  http://localhost:(port?)/api/getReceipt?source=(?) -   
  Где source - строка с входными параметрами для генерации чека (Например: 3-1 2-5 5-1 card-15).

_Примечание: Вместо (port?) надо задать используемый порт, а вместо (?) надо задать исходные параметры._

### Использованные библиотеки ###
Были использованы следующие библиотеки:
* java 8;
* gradle 7.1;
* tomcat 9;
* lombok;
* wagu - представление данных (текста) в таблицах и блоках.
* postgresql;
* liquibase;
* itext7 (PDF);
* servlet;
* gson;
* spring-data-jpa.

### Примечания ###
В исходных данных (база данных) доступны следующие диапазоны:
* id товара от 1 до 30;
* id скидочной карты от 1 до 30.

